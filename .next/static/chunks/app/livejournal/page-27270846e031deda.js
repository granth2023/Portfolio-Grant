(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[80],{5321:function(e,t,n){Promise.resolve().then(n.bind(n,5605))},5605:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var a=n(6705),l=n(981),r=n.n(l),s=n(4549);let c=(0,s.eI)({projectId:"l2g5gn2p",dataset:"production",useCdn:!1}),i=async e=>c.create({_type:"journalEntry",title:e.title,text:e.content,date:new Date().toISOString()});var o=n(955),d=()=>{let[e,t]=(0,o.useState)({title:"",content:"",date:""}),n=e=>{let{name:n,value:a}=e.target;t(e=>({...e,[n]:a}))},l=async n=>{n.preventDefault();try{await i(e),t({title:"",content:"",date:""})}catch(e){console.error("Error creating journal entry:",e)}};return(0,a.jsxs)("form",{onSubmit:l,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{children:"Date:"}),(0,a.jsx)("input",{type:"datetime-local",name:"date",value:e.date,onChange:n})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{children:"Title:"}),(0,a.jsx)("input",{type:"text",name:"title",value:e.title,onChange:n,style:{color:"black"}})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{children:"Content:"}),(0,a.jsx)("textarea",{name:"content",value:e.content,rows:5,onChange:n,className:"text-black"})]}),(0,a.jsx)("button",{type:"submit",children:"Submit"})]})},u=function(){let[e,t]=(0,o.useState)([]);return(0,o.useEffect)(()=>{let e=async()=>{let e=await c.fetch('*[_type == "journalEntry"] | order(date desc) {\n        _id,\n        title,\n        content,\n        date,\n      }');t(e||[])};e()},[]),(0,a.jsxs)("div",{className:"container mx-auto px-4 mt-6",children:[(0,a.jsx)(r(),{children:(0,a.jsx)("title",{children:"Live Journal - Grant Harris"})}),(0,a.jsx)("h1",{className:"text-3xl mb-6 font-bold text-center text-gray-700",children:"Live Journal"}),(0,a.jsx)(d,{}),(0,a.jsx)("section",{className:"mt-10",children:e&&e.map(e=>(0,a.jsxs)("div",{className:"mb-6 p-4 rounded shadow bg-white",style:{color:"black",backgroundColor:"white"},children:[(0,a.jsx)("p",{className:"text-black",children:e.content}),(0,a.jsx)("small",{className:"text-gray-600",children:new Date(e.date).toLocaleDateString()})]},e._id))})]})}}},function(e){e.O(0,[593,121,114,744],function(){return e(e.s=5321)}),_N_E=e.O()}]);